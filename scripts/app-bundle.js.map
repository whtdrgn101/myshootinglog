{"version":3,"sources":["app.js","environment.js","main.js","welcome.js","bow/bow.js","bow/bow_list.js","common/shooting-log-store.js","resources/index.js","user/login.js","user/profile.js","user/register.js","round/round.js","round/scorecard.js","resources/elements/nav-bar.js","resources/value-converters/dateFormatValueConverter.js","C:/Users/tim/Documents/dev/myshootinglog/src/app.html","C:/Users/tim/Documents/dev/myshootinglog/src/welcome.html","C:/Users/tim/Documents/dev/myshootinglog/src/bow/bow.html","C:/Users/tim/Documents/dev/myshootinglog/src/bow/bow_list.html","C:/Users/tim/Documents/dev/myshootinglog/src/round/round.html","C:/Users/tim/Documents/dev/myshootinglog/src/round/scorecard.html","C:/Users/tim/Documents/dev/myshootinglog/src/user/login.html","C:/Users/tim/Documents/dev/myshootinglog/src/user/profile.html","C:/Users/tim/Documents/dev/myshootinglog/src/user/register.html","C:/Users/tim/Documents/dev/myshootinglog/src/resources/elements/nav-bar.html"],"names":["App","_store","store","configureRouter","config","router","title","addPipelineStep","AuthorizeStep","map","route","name","moduleId","auth","nav","run","navigationInstruction","next","getAllInstructions","some","i","JSON","parse","sessionStorage","getItem","cancel","debug","testing","configure","Promise","warnings","wForgottenReturn","aurelia","use","standardConfiguration","feature","developmentLogging","plugin","start","then","setRoot","Welcome","eventAggregator","heading","last30Stats","lifetimeStats","activate","parms","routeConfig","publish","self","getLast30Stats","stats","getLifetimeStats","Bow","_eventAggregator","bow","bowTypes","appRouter","id","undefined","getBow","b","make","model","type","poundage","amoLength","braceHeight","save","_id","navigateBack","BowList","_router","_data","dataLayer","newBow","navigateToRoute","editBow","deleteBow","bowId","confirm","UpperValueConverter","toView","value","toUpperCase","ShootingLogStore","_http","user","scorecard","errorMessage","round","authToken","useStandardConfiguration","withDefaults","headers","stringify","withBaseUrl","http","subscribe","handleScorecardChanged","handleLogout","handleViewActivate","handleBowAdd","payload","handleBowUpdate","handleBowDelete","handleRoundAdd","handleRoundDelete","handleRoundUpdate","handleBowStoreStale","handleRoundStoreStale","handleUserAuthenticated","getUserInSession","getScorecard","userId","sc","catch","e","token","setItem","resolve","reject","fetch","method","body","results","roundId","response","json","rounds","bows","getRound","authenticateUser","_email","_password","error","status","usr","isAuthenticated","roles","getUserDetails","userDetails","location","image","details","register","initUserScorecard","card","accountId","email","Login","_dl","password","loginUser","Profile","shootingLogStore","dispatcher","saveProfile","embedFile","file","reader","FileReader","onload","theFile","target","result","readAsDataURL","BlobToUrlValueConverter","blob","window","URL","createObjectURL","confpassword","res","err","message","Round","_EventAggregator","roundTypes","newEndScore","handleDateChange","handleRoundEndsChange","r","dt","Date","recordedDate","Number","getMonth","getDate","getFullYear","score","ends","number","addEnd","push","length","deleteEnd","end","deletedEnd","find","without","roundNumber","forEach","endChanged","roundScore","calculateRoundScore","date","action","_round","scores","reduce","total","num","newRound","editRound","deleteRound","NavBar","logout","clear","DateFormatValueConverter","options","year","month","day","americanDateTime","Intl","DateTimeFormat","format"],"mappings":"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","file":"app-bundle.js","sourcesContent":["import {computedFrom, inject} from 'aurelia-framework';\nimport {Redirect} from 'aurelia-router';\nimport Store from 'common/shooting-log-store';\n\n@inject(Store)\nexport class App {\n\n  constructor(_store) {\n    this.store = _store;\n  }\n\n  configureRouter(config, router) {\n    config.title = 'My Shooting Log';\n    config.addPipelineStep('authorize', AuthorizeStep);\n    config.map([\n      { route: ['', 'welcome'], name: 'home',      moduleId: 'welcome',         auth: true,  nav: true,  title: 'Home' },\n      { route: ['scorecard'],   name: 'scorecard', moduleId: 'round/scorecard', auth: true,  nav: true,  title: 'Scorecard' },\n      { route: ['round'],       name: 'round',     moduleId: 'round/round',     auth: true,  nav: false, title: 'Round' },\n      { route: ['bow_list'],    name: 'bow_list',  moduleId: 'bow/bow_list',    auth: true,  nav: true,  title: 'Bows' },\n      { route: ['bow'],         name: 'bow',       moduleId: 'bow/bow',         auth: true,  nav: false, title: 'Bow Details' },\n      { route: ['profile'],     name: 'profile',   moduleId: 'user/profile',    auth: true,  nav: true,  title: 'Profile' },\n      { route: ['login'],       name: 'login',     moduleId: 'user/login',      auth: false, nav: false, title: 'Login' },\n      { route: ['register'],    name: 'register',  moduleId: 'user/register',   auth: false, nav: false, title: 'Register' },\n    ]);\n\n    this.router = router;\n  }\n}\n\nclass AuthorizeStep {\n\n  run(navigationInstruction, next) {\n    // Check if the route has an \"auth\" key\n    // The reason for using `nextInstructions` is because\n    // this includes child routes.\n    if (navigationInstruction.getAllInstructions().some(i => i.config.auth)) {\n      var auth = JSON.parse(sessionStorage.getItem('auth-token'));\n      if(auth == null) {\n        return next.cancel(new Redirect('login'));\n      }\n    }\n\n    return next();\n  }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\n\n//Configure Bluebird Promises.\n//Note: You may want to use environment-specific configuration.\nPromise.config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia) {\n  aurelia.use\n    .standardConfiguration()\n    .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","import {computedFrom, inject} from 'aurelia-framework';\nimport {Router} from 'aurelia-router';\nimport Store from 'common/shooting-log-store';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(Router, Store, EventAggregator)\nexport class Welcome {\n  heading = 'Welcome to MyShootingLog!';\n  last30Stats = {};\n  lifetimeStats = {};\n\n  constructor(router, store, eventAggregator) {\n    this.router = router;\n    this.store = store;\n    this.eventAggregator = eventAggregator;\n  }\n\n  activate(parms, routeConfig) {\n    this.eventAggregator.publish('viewActivate');\n    var self = this;\n    this.store.getLast30Stats().then(function(stats){\n      self.last30Stats = stats[0];\n    });\n    this.store.getLifetimeStats().then(function(stats){\n      self.lifetimeStats = stats[0];\n    });\n  }\n\n  get latestRound() {\n\n  }\n\n  get mostUsedBow() {\n\n  }\n}\n","import {computedFrom, inject} from 'aurelia-framework';\nimport {Router} from 'aurelia-router';\nimport Store from 'common/shooting-log-store';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(Router, Store, EventAggregator)\nexport class Bow {\n  \n  heading = 'Bow Details';\n  bow = {};\n  bowTypes = [\n    'Compound',\n    'Crossbow',\n    'Longbow',\n    'Recurve',\n    'Self',\n    'Stick'\n  ];\n  constructor(router, _store, _eventAggregator){\n    this.appRouter = router;\n    this.store = _store;\n    this.eventAggregator = _eventAggregator;\n  }\n\n  activate(parms, routeConfig) {\n    this.eventAggregator.publish('viewActivate');\n    var self = this;\n    if(parms.id != undefined && parms.id !== \"-1\") {\n      this.store.getBow(parms.id).then(function(b){\n        self.bow = b;\n      });\n    } else {\n      this.bow = {\n        name: 'New Bow',\n        make: 'Hoyte',\n        model: 'Podium',\n        type: 'Recurve',\n        poundage: 55,\n        amoLength: \"62\",\n        braceHeight: \"6.5\"\n      }\n    }\n  }\n\n  save() {\n    if(this.bow._id === undefined)\n    {\n      this.eventAggregator.publish('bow.add', this.bow);\n    } else {\n      this.eventAggregator.publish('bow.update', this.bow);\n    }\n    this.appRouter.navigateBack();  \n  }\n}\n","import {computedFrom, inject} from 'aurelia-framework';\nimport {Router} from 'aurelia-router';\nimport DataLayer from 'common/shooting-log-store';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(Router, DataLayer, EventAggregator)\nexport class BowList{\n\n  constructor(_router, _data, _eventAggregator){\n    this.appRouter = _router;\n    this.dataLayer = _data;\n    this.eventAggregator = _eventAggregator;\n  }\n\n  heading = 'Your bows';\n\n  newBow() {\n    this.appRouter.navigateToRoute('bow', { id: -1 });\n  }\n\n  editBow(bow) {\n    this.appRouter.navigateToRoute('bow', { id: bow._id });\n  }\n\n  deleteBow(bowId) {\n    if(confirm(\"Are you sure you want to delete t his bow?\")) {\n      this.eventAggregator.publish('bow.delete', bowId._id);\n    }\n  }\n\n  activate() {\n    this.eventAggregator.publish('viewActivate');\n  }\n}\n\nexport class UpperValueConverter {\n  toView(value){\n    return value && value.toUpperCase();\n  }\n}\n","import {inject} from 'aurelia-framework';\nimport {HttpClient} from 'aurelia-fetch-client';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(EventAggregator, HttpClient)\nexport default class ShootingLogStore {\n\n  user = null;\n  scorecard = null;\n  errorMessage = null;\n  round = null;\n  bow = null;\n  authToken = null;\n\n  constructor(_eventAggregator, _http){\n    this.eventAggregator = _eventAggregator;\n    _http.configure(config => {\n      config\n        .useStandardConfiguration()\n        .withDefaults({headers: {\n          'Accept': 'application/json',\n          'X-Authorization': JSON.stringify(this.authToken)\n        }})\n        .withBaseUrl('http://www.myshootinglog.com:8080/');\n    });\n    this.http = _http;\n    this.subscribe();\n  }\n\n  subscribe(){\n    let self = this;\n    this.eventAggregator.subscribe('scorecard.changed', payload => {\n      self.handleScorecardChanged();\n    });\n    this.eventAggregator.subscribe('logout', payload => {\n      self.handleLogout();\n    });\n    this.eventAggregator.subscribe('viewActivate', payload => {\n      self.handleViewActivate();\n    });\n    //Bow handlers\n    this.eventAggregator.subscribe('bow.add', payload => {\n      self.handleBowAdd(payload);\n    });\n    this.eventAggregator.subscribe('bow.update', payload => {\n      self.handleBowUpdate(payload);\n    });\n    this.eventAggregator.subscribe('bow.delete', payload => {\n      self.handleBowDelete(payload);\n    });\n    //Scorecard\n    this.eventAggregator.subscribe('round.add', payload => {\n      self.handleRoundAdd(payload);\n    });\n    this.eventAggregator.subscribe('round.delete', payload => {\n      self.handleRoundDelete(payload);\n    });\n    this.eventAggregator.subscribe('round.update', payload => {\n      self.handleRoundUpdate(payload);\n    });\n    this.eventAggregator.subscribe('bowStore.stale', payload => {\n      self.handleBowStoreStale(payload);\n    });\n    this.eventAggregator.subscribe('roundStore.stale', payload => {\n      self.handleRoundStoreStale(payload);\n    });\n    this.eventAggregator.subscribe('user.authenticated', payload => {\n      self.handleUserAuthenticated(payload);\n    });\n  }\n\n  /*************************\n   * GLOBAL EVENT HANDLERS *\n   *************************/\n  handleViewActivate() {\n    //Push scorecard into store\n    var self = this;\n    var user = this.getUserInSession();\n    this.getScorecard(user.userId).then(function(sc){\n      self.scorecard = sc;\n      self.user = sc.user;\n    }).catch(function(e){\n      self.errorMessage = e;\n    });\n  }\n\n  handleUserAuthenticated(user) {\n    this.authToken = user.token;\n    sessionStorage.setItem('auth-token', JSON.stringify(user));\n  }\n\n  handleLogout() {\n    this.user = null;\n    this.scorecard = {};\n  }\n  \n  handleScorecardChanged() {\n    var user = this.getUserInSession();\n    var self = this;\n    //Hack to make mongoose behave.  Need to clean this up at the API side\n    this.scorecard._id = undefined;\n    this.scorecard.id = undefined;\n    return new Promise(function (resolve, reject) {\n      self.http.fetch('scorecard/' + user.userId, {\n        method: 'put',\n        body: JSON.stringify(self.scorecard)\n      }).then(function(results) {\n        resolve(results);\n      })\n    });\n  }\n  \n  /************************\n   * ROUND EVENT HANDLERS *\n   ************************/\n  handleRoundDelete(roundId) {\n    var user = this.getUserInSession();\n    var self = this;\n    this.http.fetch('scorecard/' + user.userId + '/rounds/' + roundId, {method: 'delete'})\n      .then(function(results) {\n        self.eventAggregator.publish('roundStore.stale');\n      });\n  }\n  \n  handleRoundAdd(round) {\n    var user = this.getUserInSession();\n    var self = this;\n    this.http.fetch('scorecard/' + user.userId + '/rounds', {\n      method: 'post',\n      body: JSON.stringify(round)\n    }).then(function(results) {\n        self.eventAggregator.publish('roundStore.stale');\n      });\n  }\n  \n  handleRoundUpdate(round) {\n    var user = this.getUserInSession();\n    var self = this;\n    this.http.fetch('scorecard/' + user.userId + '/rounds/' + round._id, {\n      method: 'put',\n      body: JSON.stringify(round)\n    }).then(function(results) {\n        self.eventAggregator.publish('roundStore.stale');\n      });\n  }\n  \n  handleRoundStoreStale() {\n    var user = this.getUserInSession();\n    var self = this;\n    this.http.fetch('scorecard/' + user.userId + '/rounds')\n      .then(response => response.json())\n      .then(function(rounds) {\n        self.scorecard.rounds = rounds;\n        });\n  }\n  \n  /**********************\n   * BOW EVENT HANDLERS *\n   **********************/\n  handleBowAdd(bow) {\n    var user = this.getUserInSession();\n    var self = this;\n    this.http.fetch('scorecard/' + user.userId + '/bows', {\n      method: 'post',\n      body: JSON.stringify(bow)\n    }).then(function(results) {\n        self.eventAggregator.publish('bowStore.stale');\n      });\n  }\n\n  handleBowUpdate(bow) {\n    var user = this.getUserInSession();\n    var self = this;\n    this.http.fetch('scorecard/' + user.userId + '/bows/' + bow._id, {\n      method: 'put',\n      body: JSON.stringify(bow)\n    }).then(function(results) {\n        self.eventAggregator.publish('bowStore.stale');\n      });\n  }\n\n  handleBowDelete(bowId) {\n    var user = this.getUserInSession();\n    var self = this;\n    this.http.fetch('scorecard/' + user.userId + '/bows/' + bowId, {method: 'delete'})\n      .then(function(results) {\n        self.eventAggregator.publish('bowStore.stale');\n      });\n  }\n  \n  handleBowStoreStale() {\n    var user = this.getUserInSession();\n    var self = this;\n    this.http.fetch('scorecard/' + user.userId + '/bows')\n      .then(response => response.json())\n      .then(function(bows) {\n        self.scorecard.bows = bows;\n      });\n  }\n  \n  /***********\n   * METHODS *\n   ***********/\n  getScorecard(userId) {\n    var self = this;\n    return new Promise(function (resolve, reject) {\n      if(self.scorecard == null || self.scorecard == undefined) {\n        \n        self.http.fetch('scorecard/'+ userId)\n        .then(response => response.json())\n        .then(function(results) {\n          resolve(results);\n        })\n        \n      } else {\n        resolve(self.scorecard);\n      }\n    });\n  }\n\n  getBow(bowId) {\n    var user = this.getUserInSession();\n    var self = this;\n    return new Promise(function (resolve, reject) {\n      self.http.fetch('scorecard/' + user.userId + '/bows/' + bowId)\n      .then(response => response.json())\n      .then(function(bow) {\n        resolve(bow);\n        });\n    });\n  }\n  \n  getRound(roundId) {\n    var user = this.getUserInSession();\n    var self = this;\n    return new Promise(function (resolve, reject) {\n      self.http.fetch('scorecard/' + user.userId + '/rounds/' + roundId)\n      .then(response => response.json())\n      .then(function(round) {\n        resolve(round);\n        });\n    });\n  }\n\n  getLast30Stats() {\n    var user = this.getUserInSession();\n    var self = this;\n    return new Promise(function (resolve, reject) {\n      self.http.fetch('stats/' + user.userId + '/last30')\n        .then(response => response.json())\n        .then(function(round) {\n          resolve(round);\n        });\n    });\n  }\n\n  getLifetimeStats() {\n    var user = this.getUserInSession();\n    var self = this;\n    return new Promise(function (resolve, reject) {\n      self.http.fetch('stats/' + user.userId + '/lifetime')\n        .then(response => response.json())\n        .then(function(round) {\n          resolve(round);\n        });\n    });\n  }\n\n  /*********************\n   *       USER\n   *********************/\n  authenticateUser(_email, _password) {\n    var self = this;\n    return new Promise(function (resolve, reject) {\n      self.http.fetch('auth', {\n        method: 'post',\n        body: JSON.stringify({'email': _email, 'password': _password })\n      }).then(response => response.json())\n       .then(function(results) {\n        self.eventAggregator.publish('user.authenticated', results);\n        resolve(results);\n      }).catch(error => {\n        if(error.status === 401) {\n          reject(\"Invalid username or password\");\n        } else {\n          reject(\"Unknown error occurred during login.  Please try again later\");\n        }\n      });\n    });\n  }\n  \n  getUserInSession() {\n    var auth = JSON.parse(sessionStorage.getItem('auth-token'));\n    var usr = {isAuthenticated: false};\n    if(auth != null) {\n      usr.userId = auth.userId;\n      usr.roles = auth.roles;\n      usr.isAuthenticated = true;\n    }\n    return usr;\n  }\n\n  /**\n   * TODO: Kill this stupid method!\n   */\n  getUserDetails(user) {\n    let userDetails = {\n      name: '',\n      location: '',\n      image: ''\n    };\n    if(this.scorecard.user.userId === user.userId) {\n      userDetails.name =  this.scorecard.user.details.name;\n      userDetails.location =  this.scorecard.user.details.location;\n      userDetails.image =  this.scorecard.user.details.image;\n    }\n    return userDetails;\n  }\n\n  /**\n   * Created the Firebase account and returns the accountID which will be the key\n   * the API uses for accessing the users data\n   */\n  register(_email, _password) {\n    var self = this;\n    return new Promise(function (resolve, reject) {\n      self.http.fetch('user', {\n        method: 'post',\n        body: JSON.stringify({'email': _email, 'password': _password })\n      }).then(response => response.json())\n        .then(usr => {\n        resolve(usr);\n      }).catch(error => {\n        reject(error);\n      });\n    });\n  }\n  \n  /**\n   * After registration, the users scorecard must be initialized by POSTing a \n   * stub record to the API.  \n   */\n  initUserScorecard(user) {\n    var card = {\n      user: {\n        accountId: user._id,\n        email: user.email\n      },\n      rounds: [],\n      bows: []\n    }\n    var self = this;\n    return new Promise(function (resolve, reject) {\n      self.http.fetch('scorecard', {\n        method: 'post',\n        body: JSON.stringify(card)\n      }).then(function(results) {\n        resolve(results);\n      })\n    });\n  }\n  \n\n}\n","export function configure(config) {\n  //config.globalResources([]);\n}\n","import {computedFrom, inject} from 'aurelia-framework';\nimport {Router} from 'aurelia-router';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport DataLayer from 'common/shooting-log-store';\n\n@inject(Router, DataLayer, EventAggregator)\nexport class Login {\n  \n  errorMessage = null;\n  \n  user = {\n      email: '',\n      password: ''\n  }\n  \n  constructor(router, _dl, _eventAggregator){\n    this.appRouter = router;\n    this.store = _dl;\n    this.eventAggregator = _eventAggregator;\n  }\n  \n  loginUser() {\n    var self = this;\n    self.errorMessage = null;\n    this.store.authenticateUser(this.user.email, this.user.password)\n      .then(user => {\n        if(user) {\n          self.eventAggregator.publish('login.success', true);\n          self.appRouter.navigateToRoute('home');\n        }\n      }).catch(error => {\n        self.errorMessage = error;\n      });\n  }\n}\n","import {computedFrom, inject, URL} from 'aurelia-framework';\nimport {Router} from 'aurelia-router';\nimport ShootingLogStore from 'common/shooting-log-store';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(Router, ShootingLogStore, EventAggregator)\nexport class Profile {\n\n  file;\n\n  constructor(router, shootingLogStore, eventAggregator) {\n    this.appRouter = router;\n    this.store = shootingLogStore;\n    this.dispatcher = eventAggregator;\n  }\n\n  activate() {\n    this.dispatcher.publish('viewActivate');\n  }\n\n  saveProfile() {\n    this.dispatcher.publish('scorecard.changed');\n  }\n\n  embedFile() {\n    var self = this;\n    if(this.file) {\n      var reader = new FileReader();\n      reader.onload = (function(theFile) {\n        return function(e) {\n          self.store.user.image = e.target.result;\n        };\n      })(this.file[0]);\n      reader.readAsDataURL(this.file[0]);\n    }\n\n  }\n}\n\nexport class BlobToUrlValueConverter {\n  toView(blob) {\n    if(blob)\n      return window.URL.createObjectURL(blob[0]);\n  }\n}\n","import {computedFrom, inject} from 'aurelia-framework';\nimport {Router} from 'aurelia-router';\nimport DataLayer from 'common/shooting-log-store';\n\n@inject(Router, DataLayer)\nexport class Login {\n  \n  errorMessage = null;\n  user = {\n      email: '',\n      password: '',\n      confpassword: ''\n  }\n  \n  constructor(router, _dl){\n    this.appRouter = router;\n    this.dataLayer = _dl;\n  }\n  \n  register() {\n    if(this.user.password == this.user.confpassword) {\n        var self = this;\n        self.errorMessage = null;\n        this.dataLayer.register(this.user.email, this.user.password)\n          .then(usr => {\n            if(usr) {\n              self.dataLayer.initUserScorecard(usr).then(function(res){\n                self.appRouter.navigateToRoute('login')\n              }, function(err) {\n                self.errorMessage = \"ERROR: \" + err;\n              });\n            }  \n        }).catch(error => {\n          self.errorMessage = 'ERROR: ' + error;\n        });    \n    } else {\n      this.message = 'ERROR: Passwords do not match';\n    }\n  }\n}\n","import {computedFrom, inject} from 'aurelia-framework';\nimport {Router} from 'aurelia-router';\nimport Store from 'common/shooting-log-store';\nimport {EventAggregator} from 'aurelia-event-aggregator';\nimport _ from 'underscore';\n\n@inject(Router, Store, EventAggregator)\nexport class Round {\n  heading = 'Round';\n  roundTypes = [\n    'FITA 18',\n    'FITA 25',\n    'FITA 30',\n    'FITA 50',\n    'FITA 70',\n    'FITA 90',\n    'Other'\n  ];\n  newEndScore = 30;\n  round = {};\n  \n  constructor(router, _store, _EventAggregator){\n    this.appRouter = router;\n    this.store = _store;\n    this.eventAggregator = _EventAggregator;\n    var self = this;\n    this.eventAggregator.subscribe('roundDate.send', payload => {\n      self.handleDateChange(payload);\n    });\n    this.eventAggregator.subscribe('round.ends.change', payload => {\n      self.handleRoundEndsChange(payload);\n    });\n    \n  }\n\n  activate(parms, routeConfig) {\n    this.eventAggregator.publish('viewActivate');\n    var self = this;\n    if(parms.id != undefined && parms.id !== \"-1\") {\n      this.store.getRound(parms.id).then(function(r){\n        self.round = r;\n      });\n    } else {\n      var dt = new Date();\n      this.round = {\n        recordedDate: (Number(dt.getMonth()) + 1) + \"/\" + dt.getDate() + \"/\" + dt.getFullYear(),\n        score: 30,\n        bowId: 1,\n        ends: [{number:1, score:30}]\n      }\n    }\n  }\n\n  addEnd() {\n    this.round.ends.push({number:this.round.ends.length + 1, score:this.newEndScore});\n    this.eventAggregator.publish('round.ends.change', true);\n  }\n  \n  deleteEnd(end) {\n    var deletedEnd = _.find(this.round.ends, function(e){return e._id == end._id});\n    if(deletedEnd != undefined) {\n      this.round.ends = _.without(this.round.ends, deletedEnd);\n    }\n    var roundNumber = 1;\n    this.round.ends.forEach(function(end){\n      end.number = roundNumber++;\n    })\n    this.eventAggregator.publish('round.ends.change', true);\n  }\n  \n  endChanged() {\n    this.eventAggregator.publish('round.ends.change', true);\n  }\n  \n  save() {\n    this.round.roundScore = this.calculateRoundScore(this.round);\n    \n    if(this.round._id === undefined)\n    {\n      this.eventAggregator.publish('round.add', this.round);\n    } else {\n      this.eventAggregator.publish('round.update',this.round);\n    }\n    this.appRouter.navigateBack();\n  }\n\n  handleDateChange(date) {\n    if(this.round.recordedDate != date)\n      this.round.recordedDate = date;\n  }\n  \n  handleRoundEndsChange(action, end) {\n    this.round.score = this.calculateRoundScore(this.round);\n  }\n  \n  calculateRoundScore(_round) {\n    var scores = _.map(_round.ends, function(end) {\n      return Number(end.score);\n    });\n    return scores.reduce(\n      function(total, num){ return ((num)?(total + num):0) }\n      , 0);\n  }\n}\n","import {computedFrom, inject} from 'aurelia-framework';\nimport {Router} from 'aurelia-router';\nimport DataLayer from 'common/shooting-log-store';\nimport {EventAggregator} from 'aurelia-event-aggregator';\n\n@inject(Router, DataLayer, EventAggregator)\nexport class Welcome{\n\n  heading = 'Your scorecard';\n  \n  constructor(_router, _data, _eventAggregator){\n    this.appRouter = _router;\n    this.dataLayer = _data;\n    this.eventAggregator = _eventAggregator;\n  }\n\n  newRound() {\n    this.appRouter.navigateToRoute('round', { id: -1 });\n  }\n\n  editRound(round) {\n    this.appRouter.navigateToRoute('round', { id: round._id });\n  }\n\n  deleteRound(round) {\n    if(confirm(\"Are you sure you want to delete this round?\")) {\n      this.eventAggregator.publish('round.delete', round._id);\n    }\n  }\n  \n  activate() {\n    this.eventAggregator.publish('viewActivate');\n  }\n  \n}\n\nexport class UpperValueConverter {\n  toView(value){\n    return value && value.toUpperCase();\n  }\n}\n","import {bindable} from 'aurelia-framework';\nimport {inject} from 'aurelia-framework';\n\nexport class NavBar {\n  // User isn't authenticated by default\n  @bindable router = null;\n\n  // We can check if the user is authenticated\n  // to conditionally hide or show nav bar items\n  get isAuthenticated() {\n    var auth = JSON.parse(sessionStorage.getItem('auth-token'));\n    return (auth !== null);\n  }\n\n  logout() {\n    sessionStorage.clear();\n    this.appRouter.navigateToRoute('login');\n  }\n}\n","/**\n * Created by tim on 9/30/2016.\n */\n/**\n * Created by tdewees on 8/19/2016.\n */\nexport class DateFormatValueConverter {\n\n  constructor() {\n\n  }\n\n  toView(date){\n\n    var options = { year: \"2-digit\", month: \"2-digit\", day: \"2-digit\"};\n    var americanDateTime = new Intl.DateTimeFormat(\"en-US\", options).format;\n    try {\n      var dt = americanDateTime(new Date(date));\n      return dt;\n    } catch (error) {\n      return \"\";\n    }\n  }\n}\n",null,null,null,null,null,null,null,null,null,null],"sourceRoot":"..\\src"}